<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
    //   1.执行环境 window对象(最上层的执行环境)
// color1和changeColor()函数是属于window的属性，因为是在最上层环境的定义的
        var color1 = "blue";  
        function changeColor(){  //每一个函数  都有一个执行环境 （variable obj）
        	var color2 = "red";
	        function swapColor(){   //这个函数 又产生了一个执行环境  （variable obj）
	        	//  c3 是3级作用域 c2是2级作用域  c1是1级作用域
 //这里是3级作用域，要访问color1，先在这级作用域中找，没有再向上一级找，
//还没有再向上一级的上一级找。。。。(有顺序的向上找，直到找到为止，找到后就不会再向上找了)               
                var color3 = color2; 
	        	color2 = color1;
	        	color1 = color3;
	        	//这里可以访问：color1、2、3
	        }
	        //这里可以访问color1、color2、但不能访问color3
        	swapColor();
        }
        //这里只能访问color1
        changeColor();   //作用域window 第一个执行环境
    
    //    环境变量 可以一层一层的向上进行追溯 可以访问他的上级环境(变量和函数)
    // 但是是一层一层的向上追溯，也就是有顺序的(不能向下追溯)
    
    </script>
</body>
</html>